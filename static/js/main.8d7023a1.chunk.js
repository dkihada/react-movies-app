(this["webpackJsonpmovies-project"]=this["webpackJsonpmovies-project"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(18),s=n.n(a),i=(n(25),n(26),n(0));function o(){return Object(i.jsxs)("ul",{className:"nav",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/dkihada",target:"_blank",rel:"noreferrer",children:"GitHub Profile"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/dkihada/my_pet_project/tree/main/react/movies-project",target:"_blank",rel:"noreferrer",children:"GitHub REPO"})})]})}n(28);function l(){return Object(i.jsxs)("footer",{className:"page-footer",children:[Object(i.jsxs)("div",{children:["\xa9 ",(new Date).getFullYear()," Copyright Text"]}),Object(i.jsx)("a",{href:"https://github.com/dkihada/my_pet_project/tree/main/react/movies-project",target:"_blank",rel:"noreferrer",children:"GitHub Repo"})]})}var j=n(8),u=(n(29),n(11));n(30);function d(e){var t=e.nameRu,n=e.year,c=e.filmId,r=e.rating,a=e.posterUrl;return Object(i.jsx)(u.b,{to:"/film/".concat(c),children:Object(i.jsxs)("div",{id:c,className:"card movie",children:[Object(i.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(i.jsx)("img",{className:"activator",src:a,alt:t})}),Object(i.jsxs)("div",{className:"card-content",children:[Object(i.jsx)("span",{className:"card-title",children:void 0!==t&&t.length>30?t.slice(0,25)+"...":t}),Object(i.jsxs)("p",{children:[n," ",Object(i.jsx)("span",{className:"right",children:r})]})]})]})})}var h=n(13),b=function(e,t){var n=t.type,c=t.payload;switch(n){case"GET_MOVIES":return Object(j.a)(Object(j.a)({},e),{},{movies:c||[],loading:!1});case"GET_FILM":return Object(j.a)(Object(j.a)({},e),{},{film:c||[],loading:!1});case"GET_PAGES":return Object(j.a)(Object(j.a)({},e),{},{pages:c||0,loading:!1});case"GET_TRAILER":return Object(j.a)(Object(j.a)({},e),{},{trailer:c||0,loading:!1});default:return e}},f=Object(c.createContext)(),O={movies:[],film:[],pages:0,loading:!0,trailer:[]},p=function(e){var t=e.children,n=Object(c.useReducer)(b,O),r=Object(h.a)(n,2),a=r[0],s=r[1];return a.getMovies=function(e){s({type:"GET_MOVIES",payload:e})},a.getFilm=function(e){s({type:"GET_FILM",payload:e})},a.getPages=function(e){s({type:"GET_PAGES",payload:e})},a.getTrailerLink=function(e){s({type:"GET_TRAILER",payload:e})},Object(i.jsx)(f.Provider,{value:a,children:t})};function x(){var e=Object(c.useContext)(f).movies;return Object(i.jsx)("div",{className:"movies",children:e.length?e.map((function(e){return Object(i.jsx)(d,Object(j.a)({},e),e.filmId)})):Object(i.jsx)("p",{className:"nothing",children:" Nothing found "})})}n(36);function m(){return Object(i.jsx)("div",{className:"loading",children:Object(i.jsxs)("div",{className:"loading-text",children:[Object(i.jsx)("span",{className:"loading-text-words",children:"L"}),Object(i.jsx)("span",{className:"loading-text-words",children:"O"}),Object(i.jsx)("span",{className:"loading-text-words",children:"A"}),Object(i.jsx)("span",{className:"loading-text-words",children:"D"}),Object(i.jsx)("span",{className:"loading-text-words",children:"I"}),Object(i.jsx)("span",{className:"loading-text-words",children:"N"}),Object(i.jsx)("span",{className:"loading-text-words",children:"G"})]})})}n(37);var v=n(7),g=n.n(v),y=n(10),N="https://kinopoiskapiunofficial.tech/api",k={"Content-Type":"application/json","X-API-KEY":"4fa00bd4-9132-4722-b0d3-5ea6515ac863"},w=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/v2.1/films/search-by-keyword?keyword=").concat(t),{headers:k});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,c=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,e.next=3,fetch("".concat(N,"/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=").concat(t),{headers:k});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/v2.2/films/top?type=TOP_250_BEST_FILMS&page=1"),{headers:k});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/v2.2/films/top?type=TOP_AWAIT_FILMS&page=1"),{headers:k});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/v2.2/films/").concat(t),{headers:k});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"/v2.2/films/").concat(t,"/videos"),{headers:k});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(39);function I(){var e=Object(c.useContext)(f).getMovies;return Object(i.jsxs)("ul",{className:"menu-list",children:[Object(i.jsx)("li",{onClick:function(){T().then((function(t){e(t.films)})).catch((function(e){console.log(e)}))},children:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(i.jsx)("li",{onClick:function(){return function(){_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1).then((function(t){e(t.films)})).catch((function(e){console.log(e)}))}()},children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(i.jsx)("li",{onClick:function(){E().then((function(t){e(t.films)})).catch((function(e){console.log(e)}))},children:"\u0422\u041e\u041f 250 \u0424\u0438\u043b\u044c\u043c\u043e\u0432"})]})}n(40);function L(){var e=Object(c.useContext)(f).getMovies,t=Object(c.useState)(""),n=Object(h.a)(t,2),r=n[0],a=n[1],s=function(t){w(t).then((function(t){e(t.films)})).catch((function(e){console.log(e)}))};return Object(i.jsx)("div",{className:"search",children:Object(i.jsxs)("div",{className:"input-field",children:[Object(i.jsx)("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",type:"search",value:r,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&s(r)},checked:!0}),Object(i.jsx)("button",{className:"search-btn",onClick:function(){s(r)},children:"\u041f\u043e\u0438\u0441\u043a"})]})})}function G(e){e.searchMovie;var t=e.getMovie250,n=e.getMovie100;e.setMovies;return Object(i.jsx)("div",{className:"sidebar",children:Object(i.jsxs)("div",{children:[Object(i.jsx)(L,{}),Object(i.jsx)(I,{getMovie250:t,getMovie100:n})]})})}function P(){var e=Object(c.useContext)(f),t=e.getMovies,n=e.loading,r=e.getFilm,a=e.getPages;return Object(c.useEffect)((function(){_().then((function(e){t(e.films),a(e.pagesCount),r([])})).catch((function(e){console.log(e)}))}),[]),Object(i.jsx)(i.Fragment,{children:n?Object(i.jsx)(m,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"sidebar",children:Object(i.jsx)(G,{})}),Object(i.jsx)(x,{})]})})}var F=n(2);n(41),n(42),n(43);function A(e){var t=e.children;return Object(i.jsx)("span",{className:"tag",children:t})}function R(){var e=Object(c.useContext)(f),t=e.film;e.trailer;return Object(i.jsxs)("div",{className:"card-movie",children:[Object(i.jsx)("img",{src:t.posterUrlPreview,alt:t.nameRu}),Object(i.jsxs)("div",{className:"card-movie__body",children:[Object(i.jsxs)("h2",{children:[t.nameRu," (",t.year,")"]}),Object(i.jsxs)("div",{className:"card-movie__original-name",children:[t.nameOriginal," ",Object(i.jsx)("span",{children:t.ratingAgeLimits?Object(i.jsx)(A,{children:t.ratingAgeLimits&&t.ratingAgeLimits.slice(3)+"+"}):null})]}),Object(i.jsx)("div",{className:"card-movie__slogan",children:t.slogan&&t.slogan}),Object(i.jsxs)("div",{children:["\u0421\u0442\u0440\u0430\u043d\u0430:",t.countries&&t.countries.map((function(e){return Object(i.jsxs)("span",{children:[" ",e.country," "]},e.country)}))]}),Object(i.jsxs)("div",{children:["\u0416\u0430\u043d\u0440:",t.genres&&t.genres.map((function(e){return Object(i.jsxs)("span",{children:[" ",e.genre," "]},e.genre)}))]}),Object(i.jsxs)("span",{children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",t.filmLength," \u043c\u0438\u043d."]}),Object(i.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),t.description]}),Object(i.jsx)("div",{})]})]})}function S(){var e=Object(c.useContext)(f),t=e.loading,n=e.getFilm,r=e.getTrailerLink,a=Object(F.g)().pathname,s=Object(F.f)().goBack,o=/(\d+)/g;return Object(c.useEffect)((function(){M(a.match(o)).then((function(e){n(e)})).catch((function(e){console.log(e)})),C(a.match(o)).then((function(e){r(e.items[1])})).catch((function(e){console.log(e)}))}),[]),Object(i.jsx)(i.Fragment,{children:t?Object(i.jsx)(m,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"sidebar back",onClick:s,children:[" ","\u041d\u0430\u0437\u0430\u0434"]})}),Object(i.jsx)(R,{})]})})}var B=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(u.a,{basename:"/react-movies-app",children:Object(i.jsxs)(p,{children:[Object(i.jsx)(o,{}),Object(i.jsx)("main",{className:"container",children:Object(i.jsxs)(F.c,{children:[Object(i.jsx)(F.a,{exact:!0,path:"/",component:P}),Object(i.jsx)(F.a,{path:"/film",component:S})]})}),Object(i.jsx)(l,{})]})})})};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(B,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.8d7023a1.chunk.js.map