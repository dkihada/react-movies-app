(this["webpackJsonpmovies-project"]=this["webpackJsonpmovies-project"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={movie:"Movie_movie__2mKDt",title:"Movie_title__yCFL5",content:"Movie_content__Js_fJ",rate:"Movie_rate__3HuN1",high:"Movie_high__2hJ-k",middle:"Movie_middle__3k01O",low:"Movie_low__2L8XB",await:"Movie_await__2frp4"}},,,,function(e,t,n){e.exports={card:"CardMovie_card__2TTEH",body:"CardMovie_body__1mO-2",slogan:"CardMovie_slogan__3-dzA",link_kinopoisk:"CardMovie_link_kinopoisk__2FPu8"}},,function(e,t,n){e.exports={menu:"Menu_menu__2foeN",active:"Menu_active__2BfI_"}},,function(e,t,n){e.exports={pagination:"Pagination_pagination__f7TZX",li:"Pagination_li__32ycl",selected:"Pagination_selected__2DkUr"}},,,,function(e,t,n){e.exports={movies:"Movies_movies__zFym_",nothing:"Movies_nothing__J3H59"}},,function(e,t,n){e.exports={logo:"Logo_logo__9OQh8",link:"Logo_link__jaqHx"}},,,,function(e,t,n){e.exports={footer:"Footer_footer__fYRx6"}},,,function(e,t,n){e.exports={body:"Home_body__15ojz"}},function(e,t,n){e.exports={tag:"Tag_tag__3Hf_5"}},,,,,,function(e,t,n){},,function(e,t,n){},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(27),i=n.n(s),r=(n(38),n(8)),o=n(2),l=n(33),j=n(7),u=function(e,t){var n=t.type,c=t.payload;switch(n){case"GET_MOVIES":return Object(j.a)(Object(j.a)({},e),{},{movies:c||[],loading:!1});case"GET_FILM":return Object(j.a)(Object(j.a)({},e),{},{film:c||[],loading:!1});case"GET_PAGES":return Object(j.a)(Object(j.a)({},e),{},{pages:c||0,loading:!1});case"GET_TRAILER":return Object(j.a)(Object(j.a)({},e),{},{trailer:c||[],loading:!1});case"SEARCH":return Object(j.a)(Object(j.a)({},e),{},{search:c||"",loading:!1});default:return e}},d=n(0),b=Object(c.createContext)(),h={movies:[],film:[],pages:0,loading:!0,trailer:[],type:{_currentType:"",_top_100:"top_100_popular_films",_top_250:"top_250_best_films",_top_await:"top_await_films"},search:""},p=function(e){var t=e.children,n=Object(c.useReducer)(u,h),a=Object(l.a)(n,2),s=a[0],i=a[1];return s.getMovies=function(e){i({type:"GET_MOVIES",payload:e})},s.getFilm=function(e){i({type:"GET_FILM",payload:e})},s.getPages=function(e){i({type:"GET_PAGES",payload:e})},s.getTrailerLink=function(e){i({type:"GET_TRAILER",payload:e})},s.getSearch=function(e){i({type:"SEARCH",payload:e})},Object(d.jsx)(b.Provider,{value:s,children:t})};n(40);function O(){return Object(d.jsxs)("ul",{className:"nav",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://github.com/dkihada",target:"_blank",rel:"noreferrer",children:"GitHub Profile"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://github.com/dkihada/react-movies-app",target:"_blank",rel:"noreferrer",children:"GitHub REPO"})})]})}var x=n(28),f=n.n(x);function g(){return Object(d.jsxs)("footer",{className:f.a.footer,children:[Object(d.jsxs)("div",{children:["\xa9 ",(new Date).getFullYear()," Copyright Text"]}),Object(d.jsx)("a",{href:"https://github.com/dkihada/react-movies-app",target:"_blank",rel:"noreferrer",children:"GitHub Repo"})]})}var m=n(22),_=n.n(m),v=n(9),y=n(10),N=n.n(y),w=n(13),k=n.n(w);function M(e){var t,n=e.nameRu,c=e.year,a=e.filmId,s=e.rating,i=e.posterUrl;return Object(d.jsx)(r.b,{to:"/film/".concat(a),children:Object(d.jsxs)("div",{id:a,className:N.a.movie,children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:i,alt:n})}),Object(d.jsxs)("div",{className:N.a.content,children:[Object(d.jsx)("span",{className:N.a.title,children:void 0!==n&&n.length>30?n.slice(0,25)+"...":n}),Object(d.jsxs)("p",{children:[c," ",Object(d.jsx)("span",{className:k()(N.a.rate,(t={},Object(v.a)(t,N.a.high,s>=7),Object(v.a)(t,N.a.middle,s>=5&&s<7),Object(v.a)(t,N.a.low,s<5),Object(v.a)(t,N.a.await,s.includes("%")),t)),children:"null"!==s?s.includes("%")?"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 ".concat(s):s:null})]})]})]})})}function C(){var e=Object(c.useContext)(b).movies;return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:_.a.movies,children:e.length?e.map((function(e){return Object(d.jsx)(M,Object(j.a)({},e),e.filmId)})):Object(d.jsx)("p",{className:_.a.nothing,children:" Nothing found "})})})}n(45);function H(){return Object(d.jsx)("div",{className:"loading",children:Object(d.jsxs)("div",{className:"loading-text",children:[Object(d.jsx)("span",{className:"loading-text-words",children:"L"}),Object(d.jsx)("span",{className:"loading-text-words",children:"O"}),Object(d.jsx)("span",{className:"loading-text-words",children:"A"}),Object(d.jsx)("span",{className:"loading-text-words",children:"D"}),Object(d.jsx)("span",{className:"loading-text-words",children:"I"}),Object(d.jsx)("span",{className:"loading-text-words",children:"N"}),Object(d.jsx)("span",{className:"loading-text-words",children:"G"})]})})}var E=n(16),F=n.n(E),P=n(11),T=n.n(P),V=n(17),L="https://kinopoiskapiunofficial.tech/api",A={"Content-Type":"application/json","X-API-KEY":"4fa00bd4-9132-4722-b0d3-5ea6515ac863"},G=function(){var e=Object(V.a)(T.a.mark((function e(t){var n,c,a=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,fetch("".concat(L,"/v2.1/films/search-by-keyword?keyword=").concat(t,"&page=").concat(n),{headers:A});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(V.a)(T.a.mark((function e(t){var n,c,a=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,fetch("".concat(L,"/v2.2/films/top?type=").concat(t,"&page=").concat(n),{headers:A});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(V.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/v2.2/films/").concat(t),{headers:A});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(V.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/v2.2/films/").concat(t,"/videos"),{headers:A});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Z(){var e=Object(c.useContext)(b),t=e.getMovies,n=e.getPages,a=e.getSearch,s=e.type,i=Object(o.g)().pathname,l=function(e){R(e).then((function(c){s._currentType=e,a(""),t(c.films),n(c.pagesCount)})).catch((function(e){console.log(e)}))};return Object(d.jsxs)("ul",{className:F.a.menu,children:[Object(d.jsx)(r.b,{to:"/".concat(s._top_await),className:k()(Object(v.a)({},F.a.active,"/".concat(s._top_await)==i)),children:Object(d.jsx)("li",{onClick:function(){return l(s._top_await)},children:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})}),Object(d.jsx)(r.b,{to:"/".concat(s._top_100),className:k()(Object(v.a)({},F.a.active,"/".concat(s._top_100)==i)),children:Object(d.jsx)("li",{onClick:function(){return l(s._top_100)},children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})}),Object(d.jsx)(r.b,{to:"/".concat(s._top_250),className:k()(Object(v.a)({},F.a.active,"/".concat(s._top_250)==i)),children:Object(d.jsx)("li",{children:"\u0422\u041e\u041f 250 \u0424\u0438\u043b\u044c\u043c\u043e\u0432"})})]})}n(47);function D(){var e=Object(c.useContext)(b),t=e.getMovies,n=e.getPages,a=e.getSearch,s=e.search,i=function(e){G(e).then((function(e){t(e.films),n(e.pagesCount)})).catch((function(e){console.log(e)}))};return Object(d.jsx)("div",{className:"search",children:Object(d.jsxs)("div",{className:"input-field",children:[Object(d.jsx)("input",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",type:"search",value:s,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&i(s)},checked:!0}),Object(d.jsx)("button",{className:"search-btn",onClick:function(){i(s)},children:"\u041f\u043e\u0438\u0441\u043a"})]})})}var B=n(24),J=n.n(B);function U(){return Object(d.jsx)(r.b,{to:"/",className:J.a.link,children:Object(d.jsxs)("div",{className:J.a.logo,children:[Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M21,2a1,1,0,0,0-1,1V5H18V3a1,1,0,0,0-2,0V4H8V3A1,1,0,0,0,6,3V5H4V3A1,1,0,0,0,2,3V21a1,1,0,0,0,2,0V19H6v2a1,1,0,0,0,2,0V20h8v1a1,1,0,0,0,2,0V19h2v2a1,1,0,0,0,2,0V3A1,1,0,0,0,21,2ZM6,17H4V15H6Zm0-4H4V11H6ZM6,9H4V7H6Zm10,9H8V13h8Zm0-7H8V6h8Zm4,6H18V15h2Zm0-4H18V11h2Zm0-4H18V7h2Z"})}),"MoviesHub"]})})}function Y(){return Object(d.jsx)("div",{className:"sidebar",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(U,{}),Object(d.jsx)(D,{}),Object(d.jsx)(Z,{})]})})}var z=n(31),K=n.n(z);function X(){var e=Object(c.useContext)(b),t=(e.loading,e.search),n=e.movies;return console.log(),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"sidebar",children:Object(d.jsx)(Y,{})}),n.length&&t?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(C,{})}):Object(d.jsxs)("div",{className:K.a.body,children:[Object(d.jsx)("h1",{children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 MoviesHub! "}),Object(d.jsx)("p",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043c\u0435\u043d\u044e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u0438\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0438\u0439 \u0432\u0430\u0441 \u0444\u0438\u043b\u044c\u043c."})]})]})}n(48);var q=n(14),Q=n.n(q),W=n(32),$=n.n(W);function ee(e){var t=e.children;return Object(d.jsx)("div",{className:$.a.tag,children:t})}function te(){var e=Object(c.useContext)(b),t=e.film;e.trailer;return Object(d.jsxs)("div",{className:Q.a.card,children:[Object(d.jsx)("img",{src:t.posterUrlPreview,alt:t.nameRu}),Object(d.jsxs)("div",{className:Q.a.body,children:[Object(d.jsxs)("h2",{children:[t.nameRu," (",t.year,")"]}),Object(d.jsxs)("div",{className:Q.a.original_name,children:[t.nameOriginal," ",Object(d.jsx)("span",{children:t.ratingAgeLimits?Object(d.jsx)(ee,{children:t.ratingAgeLimits&&t.ratingAgeLimits.slice(3)+"+"}):null})]}),Object(d.jsx)("div",{className:Q.a.slogan,children:t.slogan&&t.slogan}),Object(d.jsxs)("div",{children:["\u0421\u0442\u0440\u0430\u043d\u0430:",t.countries&&t.countries.map((function(e){return Object(d.jsxs)("span",{children:[" ",e.country," "]},e.country)}))]}),Object(d.jsxs)("div",{children:["\u0416\u0430\u043d\u0440:",t.genres&&t.genres.map((function(e){return Object(d.jsxs)("span",{children:[" ",e.genre," "]},e.genre)}))]}),Object(d.jsxs)("span",{children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",t.filmLength," \u043c\u0438\u043d."]}),Object(d.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),t.description]}),Object(d.jsxs)("div",{children:[" ",Object(d.jsx)("a",{href:t.webUrl,target:"_blank",rel:"noreferrer",className:Q.a.link_kinopoisk,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a"})]})]})]})}function ne(){var e=Object(c.useContext)(b),t=e.loading,n=e.getFilm,a=e.getTrailerLink,s=e.film,i=Object(o.g)().pathname,r=Object(o.f)().goBack,l=/(\d+)/g;return Object(c.useEffect)((function(){I(i.match(l)).then((function(e){n(e)})).catch((function(e){console.log(e)})),S(i.match(l)).then((function(e){a(e.items.filter((function(e){return"YOUTUBE"===e.site})))})).catch((function(e){console.log(e)}))}),[]),Object(d.jsx)(d.Fragment,{children:t?Object(d.jsx)(H,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"sidebar back",onClick:r,children:[" ","\u041d\u0430\u0437\u0430\u0434"]})}),s?Object(d.jsx)(te,{}):Object(d.jsx)(H,{})]})})}var ce=n(18),ae=n.n(ce),se=(n(49),n(21)),ie=n.n(se);function re(e){var t=e.typeMovies,n=Object(c.useContext)(b),a=n.pages,s=n.getMovies,i=n.search,r=n.getPages;return Object(d.jsx)(d.Fragment,{children:a>1?Object(d.jsx)(ie.a,{pageCount:a,pageRangeDisplayed:1,marginPagesDisplayed:3,previousLabel:"<",nextLabel:">",containerClassName:ae.a.pagination,activeClassName:ae.a.selected,pageClassName:ae.a.li,forcePage:0,onPageChange:function(e){i?G(i,e.selected+1).then((function(e){s(e.films),r(e.pagesCount)})).catch((function(e){console.log(e)})):R(t,e.selected+1).then((function(e){s(e.films)})).catch((function(e){console.log(e)}))}}):null})}function oe(){var e=Object(c.useContext)(b),t=e.getMovies,n=e.loading,a=e.getFilm,s=e.getPages,i=e.type;return Object(c.useEffect)((function(){R(i._top_100).then((function(e){t(e.films),s(e.pagesCount),a([])})).catch((function(e){console.log(e)}))}),[]),Object(d.jsx)(d.Fragment,{children:n?Object(d.jsx)(H,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"sidebar",children:Object(d.jsx)(Y,{})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(C,{}),Object(d.jsx)(re,{typeMovies:i._top_100})]})]})})}n(50);function le(){var e=Object(c.useContext)(b),t=e.type,n=e.getMovies,a=(e.pages,e.getPages),s=e.getFilm;return Object(c.useEffect)((function(){R(t._top_250).then((function(e){n(e.films),a(e.pagesCount),s([])})).catch((function(e){console.log(e)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"sidebar",children:Object(d.jsx)(Y,{})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(C,{}),Object(d.jsx)(re,{typeMovies:t._top_250})]})]})}function je(){var e=Object(c.useContext)(b),t=e.getMovies,n=e.loading,a=e.getFilm,s=e.getPages,i=e.type;return Object(c.useEffect)((function(){R(i._top_await).then((function(e){t(e.films),s(e.pagesCount),a([])})).catch((function(e){console.log(e)}))}),[]),Object(d.jsx)(d.Fragment,{children:n?Object(d.jsx)(H,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"sidebar",children:Object(d.jsx)(Y,{})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(C,{}),Object(d.jsx)(re,{typeMovies:i._top_await})]})]})})}var ue=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(r.a,{basename:"/react-movies-app",children:Object(d.jsxs)(p,{children:[Object(d.jsx)(O,{}),Object(d.jsx)("main",{className:"container",children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",component:X}),Object(d.jsx)(o.a,{path:"/film",component:ne}),Object(d.jsx)(o.a,{path:"/top_await_films",component:je}),Object(d.jsx)(o.a,{path:"/top_100_popular_films",component:oe}),Object(d.jsx)(o.a,{path:"/top_250_best_films",component:le})]})}),Object(d.jsx)(g,{})]})})})};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(ue,{})}),document.getElementById("root"))}],[[51,1,2]]]);
//# sourceMappingURL=main.b00c8334.chunk.js.map